<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "https://mybatis.org/dtd/mybatis-3-mapper.dtd" >


<mapper namespace="spotMapper">

	<resultMap type="Spot" id="spotResult">
		<result column="SPOT_NO" property="spotNo"/>
		<result column="SPOT_CONTENTID" property="spotContentId"/>
		<result column="SPOT_CONTENT_TYPE" property="spotContentType"/>
		<result column="SPOT_CREATED_DATE" property="spotCreatedDate"/>
		<result column="SPOT_MODIFIED_DATE" property="spotModifiedDate"/>
		<result column="SPOT_TEL" property="spotTel"/>
		<result column="SPOT_TITLE" property="spotTitle"/>
		<result column="SPOT_IMG_PATH" property="spotImgPath"/>
		<result column="SPOT_ADDRESS" property="spotAddress"/>
		<result column="SPOT_POSTAL_CODE" property="spotPostalCode"/>
		<result column="SPOT_MAPX" property="spotMapx"/>
		<result column="SPOT_MAPY" property="spotMapy"/>
		<result column="LARGE_CATEGORY_NO" property="largeCategoryNo"/>
		<result column="MIDDLE_CATEGORY_NO" property="middleCategoryNo"/>
		<result column="SMALL_CATEGORY_NO" property="smallCategoryNo"/>
		<result column="AREA_CATEGORY_NO" property="areaCategoryNo"/>
		<result column="CITY_CATEGORY_NO" property="cityCategoryNo"/>
		<result column="SPOT_COUNT" property="spotCount"/>
		<result column="SPOT_LIKE" property="spotLike"/>
	</resultMap>

	<select id="selectSpotList" resultMap="spotResult">
		select
				spot_title,
				spot_img_path,
                area_category_title,
                sigungu_title,
                spot_count,
                spot_like
		from
				tb_travel_spot tvs, tb_spot_city_category tscc, tb_spot_area_category tsac
		where
                tvs.area_category_no = tscc.area_category_no
           and
                tvs.city_category_no = tscc.city_category_no
           and
                tvs.area_category_no = tsac.area_category_no
           and
                (
				tvs.large_category_no = 'A01'
           or
                tvs.large_category_no = 'A02'
                )
	</select>

</mapper>